# Система контроля деятельности персонала

## Описание проекта

Данный проект представляет собой микросервис, развернутый в Docker-образе, предназначенный для упрощения работы руководства структурного подразделения.

**Цель проекта:** 

* Автоматизировать сбор и обработку данных о деятельности персонала.
* Предоставить удобный инструмент для анализа и визуализации данных.

**Функциональные возможности:**

* **Сбор данных:**  Автоматический сбор данных из файлов Excel.
* **Обработка данных:**  Преобразование данных в формат, совместимый с PostgreSQL.
* **Хранение данных:**  Сохранение данных в базе данных PostgreSQL.
* **Визуализация данных:**  Представление данных в интуитивно понятном виде с помощью Metabase.

**Структура проекта:**

* **Тестовые данные:**  Директория с формами Excel, предварительно заполненными для проверки функционирования.
* **dag:**  Директория с dag-файлами и конфигурационным json-файлом.
* **grant_department_docker_env:**  Директория с docker-compose файлом и неообходимыми для инициализации docker-образа файлами.
* **sql-scripts:**  Директория с sql-скриптами для инициализации хранилища данных.
* **Система контроля деятельности персонала.docx** - документация на систему.
* **database model.png** - схема хранилища данных 

**Используемые технологии:**

* **Airflow:**  Для автоматизации etl-процесса.
* **Python:**  Для написания кода etl-процесса.
* **Excel:**  Для хранения исходных данных.
* **PostgreSQL:**  Для хранения обработанных данных.
* **Metabase:**  Для визуализации данных.
* **Docker:**  Для развертывания системы в контейнере.

##  Сборка и запуск

1. **Сборка docker-образа:** docker-compose up 
2. **Перезапуск после инициализации:** После того, как завершится работа контейнера airflow-init весь docker-образ желательно перезапустить
3. **Перенос нужных файлов:** После инициализации необходимо перенести sql-файлы, dag-файлы, excel-файлы в новые папки (в windows - C:/airflow/grant_department)
4. **Система готова к использованию**

